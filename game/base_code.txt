prgm main
global argc  
global arg0 
global arg1
global argx
global argy
global argk
global args
global return

; comments

; start in middle 
; of board
argx := 96/2 ;
argy := 64/2 ;

; print initial pos
argc := 2
arg0 := argx
arg1 := argy
printerr

;draw init pos
setpixel

noinput:
	getkey
	keycode := return
	
	if not keycode=0 then
		arg0 := keycode
		printerr
		if keycode=87 or \
		   keycode=65 or \
		   keycode=68 or \
		   keycode=83 then
			goto start
		endif
	endif
	goto noinput
loop:
	getkey
	keycode := return
start:
	if keycode=87 then
		dy:=-1
		dx:=0
	endif
	if keycode=68 then
		dy:=0
		dx:=1
	endif
	if keycode=83 then
		dy:=1
		dx:=0
	endif
	if keycode=65 then
		dy:=0
		dx:=-1
	endif
	argk := 2
	setpixel
	argy := argy + dy
	argx := argx + dx

	getpixel
	shaded := return
	if not shaded then
		argk := 1
		setpixel
		goto loop
	endif

endgame:
arg0 := -1
arg1 := -1
printerr
argx:=20
argy:=20
strid := "game over"
args := strid
drawstring
